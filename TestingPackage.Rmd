```{r}
TestDataNames <- c("WT_RPL18A", 
									 "RRP6_RPL18A")
TestDataFiles <- c("./data/example/WT_sorted_merged.bam",
										"./data/example/RRP6_sorted_merged.bam")
TestBamFileList <- Rsamtools::BamFileList(c("./data/example/WT_sorted_merged.bam",
																 "./data/example/RRP6_sorted_merged.bam"))
annotation <- "./user_input_files/Saccharomyces_cerevisiae.R64-1-1.107.gtf"
unnormalizedLocations <- c("./data/example/WT_sorted_merged.bam", "./data/example/RRP6_sorted_merged.bam")

rpl18_grand <- GenomicRanges::GRanges(seqnames = c('chrXV','chrXV'), ranges = c(IRanges::IRanges(94293, 94387),IRanges::IRanges(94363,94469)), strand = c('-','-'))
test_param <- Rsamtools::ScanBamParam(which = rpl18_grand)

WT_RRP6Test <- data.frame(
	SampleID = c("WT_RPL18A","RRP6_RPL18A"),
	SampleLanes = c(1,2),
	SampleColors = c('red','red')
)

```

```{r}
BamsWTRRP6 <- scanBamFiles(TestDataNames, TestDataFiles)
NanoblotDataWTRRP6 <- bamFilesToNanoblotData(BamsWTRRP6)
ds_size_factors <- normalizeNanoblotData(NanoblotDataWTRRP6, "differential", unnormalizedLocations, annotation)
makeNanoblot(nanoblotData = NanoblotDataWTRRP6, plotInfo = WT_RRP6Test, blotType = "ridge")
makeNanoblot(nanoblotData = NanoblotDataWTRRP6, plotInfo = WT_RRP6Test, blotType = "violin")
makeNanoblot(nanoblotData = NanoblotDataWTRRP6, plotInfo = WT_RRP6Test, size_factors = ds_size_factors)
```

```{r}
nanoblotData <- data.frame(SampleID = c())
annotation <- "./user_input_files/Saccharomyces_cerevisiae.R64-1-1.107.gtf"
unnormalizedLocations <- c("/media/guillaume-chanfreau/HD3/KX_Reps/ERR5767189/WT_rep2_mapped.sorted.bam",
													 "/media/guillaume-chanfreau/HD3/KX_Reps/ERR5767190/KO_rep1_mapped.sorted.bam",
													 "/media/guillaume-chanfreau/HD3/KX_Reps/ERR5767191/KO_rep2_mapped.sorted.bam",
													 "/media/guillaume-chanfreau/HD3/KX_Reps/ERR5767192/WT_rep3_mapped.sorted.bam",
													 "/media/guillaume-chanfreau/HD3/KX_Reps/ERR5767193/KO_rep3_mapped.sorted.bam")

coldata <- data.frame(condition = c("WT","KO","KO","WT","KO"))
rownames(coldata) <- c("WT_rep2_mapped.sorted.bam","KO_rep1_mapped.sorted.bam",
											 "KO_rep2_mapped.sorted.bam","WT_rep3_mapped.sorted.bam",
											 "KO_rep3_mapped.sorted.bam")

ds_size_factors <- normalizeNanoblotData(nanoblotData, "differential", unnormalizedLocations, annotation, coldata,  "/home/guillaume-chanfreau/Desktop/WT_KO_DESeq2.csv")


```

